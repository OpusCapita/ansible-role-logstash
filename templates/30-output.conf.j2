#output {
#    elasticsearch {
#      hosts => {{ logstash_elasticsearch_hosts | to_json }}
#      index => "%{[@metadata][beat]}-%{+YYYY.MM.dd}"
#    }
#    if ![event][transactionId]{
#		elasticsearch {
#			hosts => {{ logstash_elasticsearch_hosts | to_json }}
#			template => "/etc/logstash/bnp-logs-template.json"
#			template_overwrite => true
#    		template_name => "bnp_logs"
#			index => "bnp_logs-%{+YYYY.MM.dd}"
#		}
#		if [type] == "service" {
#         file {
#           path => /data/services/%{tag}/%{tag}-%{+YYYY.MM.dd}.log
#           codec => line { format => "[%{@timestamp}] %{message}"}
#         }
#        }
#    }
#    file {
#        path => /data/debug-%{+YYYY.MM.dd}.log
#    }
#}

output {
 file {
   path => "/data/debug.log"
 }
}
output {
    if [input][type] == "container" {
        file {
            path => "/data/nodes/%{[host][name]}/docker/%{[container][name]}-%{+YYYY.MM.dd}.log"
            codec => line { format => "%{message}"}
        }
    }
}
output {
    if [input][type] == "log" {
        file {
            path => "/data/nodes/%{[host][name]}/%{[log_file]}-%{+YYYY.MM.dd}.log"
            codec => line { format => "%{message}"}
        }
    }
}
output {
    if [agent][type] == "journalbeat" {
        file {
            path => "/data/nodes/%{[host][name]}/journald/%{[syslog][identifier]}-%{+YYYY.MM.dd}.log"
            codec => line { format => "[%{@timestamp}] %{message}"}
        }
    }
}
